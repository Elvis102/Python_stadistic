Traceback (most recent call last):
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/site-packages/nbclient/client.py", line 1112, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/site-packages/nbclient/util.py", line 74, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/site-packages/nbclient/util.py", line 53, in just_run
    return loop.run_until_complete(coro)
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/asyncio/base_events.py", line 642, in run_until_complete
    return future.result()
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/site-packages/nbclient/client.py", line 553, in async_execute
    await self.async_execute_cell(
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/site-packages/nbclient/client.py", line 857, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/opt/anaconda3/envs/pythonbook/lib/python3.9/site-packages/nbclient/client.py", line 760, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
n1 = len(Anastasia)
n2 = len(Bernadette)
m1 = statistics.mean(Anastasia['grade'])
m2 = statistics.mean(Bernadette['grade'])

v1 = statistics.variance(Anastasia['grade'])
v2 = statistics.variance(Bernadette['grade'])

pooled_se = np.sqrt(v1 / n1 + v2 / n2)
delta = m1-m2

#tstat = delta /  pooled_se
#tstat = ttest_ind(Anastasia, Bernadette)[0]
#df = (v1 / n1 + v2 / n2)**2 / (v1**2 / (n1**2 * (n1 - 1)) + v2**2 / (n2**2 * (n2 - 1)))

# two side t-test
#p = 2 * t.cdf(-abs(tstat), df)

# upper and lower bounds
lb = delta - t.ppf(0.975,df)*pooled_se 
ub = delta + t.ppf(0.975,df)*pooled_se

#print(lb)
#print(ub)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
[0;32m<ipython-input-26-c39bad49718f>[0m in [0;36m<module>[0;34m[0m
[1;32m     18[0m [0;34m[0m[0m
[1;32m     19[0m [0;31m# upper and lower bounds[0m[0;34m[0m[0;34m[0m[0;34m[0m[0m
[0;32m---> 20[0;31m [0mlb[0m [0;34m=[0m [0mdelta[0m [0;34m-[0m [0mt[0m[0;34m.[0m[0mppf[0m[0;34m([0m[0;36m0.975[0m[0;34m,[0m[0mdf[0m[0;34m)[0m[0;34m*[0m[0mpooled_se[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m     21[0m [0mub[0m [0;34m=[0m [0mdelta[0m [0;34m+[0m [0mt[0m[0;34m.[0m[0mppf[0m[0;34m([0m[0;36m0.975[0m[0;34m,[0m[0mdf[0m[0;34m)[0m[0;34m*[0m[0mpooled_se[0m[0;34m[0m[0;34m[0m[0m
[1;32m     22[0m [0;34m[0m[0m

[0;31mNameError[0m: name 't' is not defined
NameError: name 't' is not defined

